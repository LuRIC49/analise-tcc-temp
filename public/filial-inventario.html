<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventário da Filial</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modalstyle.css">
     <link rel="stylesheet" href="css/insumostyle.css">
      <link rel="stylesheet" href="css/filial-inventario.css">
</head>
<body>
    <header class="header"></header>

    <main class="main-content">
        <div class="info-panel">
            <div class="info-panel-logo">
                <img src="images/logotipo.png" alt="Logo">
            </div>
            <div class="info-panel-details">
                <p id="filial-name-info"><strong>EMPRESA:</strong> Carregando...</p>
                <p id="filial-cnpj-info"><strong>CNPJ:</strong> Carregando...</p>
                <p id="filial-address-info"><strong>ENDEREÇO:</strong> Carregando...</p>
                <p id="filial-email-info"><strong>EMAIL:</strong> Carregando...</p>
            </div>
        </div>

        <div class="page-actions">
            <button type="button" id="btnGerarRelatorio" class="btn-action" style="background-color: #17a2b8;">Gerar Relatório PDF</button>
             <a href="#" id="btnAdicionarInsumoDireto" class="btn-action" style="background-color: #28a745;">Cadastrar Insumo</a>
            <a href="#" id="btnVerVistorias" class="btn-action">Ver Vistorias</a>
        </div>

<div class="insumos-section">
            <h2>Insumos Gerais Cadastrados</h2>
            <hr>

            <div class="filter-controls" style="display: flex; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                
                <div class="filter-group" style="flex-grow: 1; min-width: 250px;">
                    <label for="serialSearchInput" style="display: block; margin-bottom: 5px; font-weight: bold;">Pesquisar por Nº Serial:</label>
                    <input type="text" id="serialSearchInput" list="serialSearchList" placeholder="Digite um Nº Serial..." style="width: 100%; padding: 8px; box-sizing: border-box;">
                    
                    <datalist id="serialSearchList"></datalist>
                </div>

                <div class="filter-group" style="flex-grow: 1; min-width: 200px;">
                    <label for="statusFilter" style="display: block; margin-bottom: 5px; font-weight: bold;">Filtrar por Status:</label>
                    <select id="statusFilter" style="width: 100%; padding: 8px;">
                        <option value="todos">Todos os Status</option>
                        <option value="status-ok">OK</option>
                        <option value="status-warning">Próximo ao Vencimento</option>
                        <option value="status-expired">Vencido</option>
                    </select>
                </div>
            </div>
            <section class="products-section" id="insumos-gerais-grid">
                <p>Carregando insumos...</p>
            </section>
        </div>
    </main>

    <div id="selectionModal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 900px;">
            <h2 id="selectionModalTitle">Selecione o Tipo de Insumo</h2>
            <main class="selection-grid"></main>
            <div class="modal-actions"><button type="button" class="btn-cancel">Cancelar</button></div>
            <button class="modal-close-btn">&times;</button>
        </div>
    </div>
    <div id="detailsModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="detailsModalTitle">Detalhes do Insumo</h2>
            <form id="detailsModalForm" novalidate>
                <div id="formInputsContainer"></div>
                <div class="modal-actions">
                    <button type="button" class="btn-cancel">Cancelar</button>
                    <button type="submit" class="btn-save">Salvar Insumo</button>
                </div>
            </form>
            <button class="modal-close-btn">&times;</button>
        </div>
    </div>

    <footer class="footer"></footer>

    <script src="js/layout.js" defer></script>
    <script src="js/auth.js" defer></script>
    <script src="js/notifier.js" defer></script>
    <script src="/js/utils/validation.js"></script>
    <script src="js/filial-inventario.js" defer></script>
</body>
</html>